% !TEX root = ../stellar-notes.tex

\DefineShortVerb{\|}

\begin{mesaproject}[Entropy, radius, and gravithermal specific heat]
\label{m.MESA-entropy}

Download the folder `|Lane-Emden/0.3M-entropy|' and place it into your projects folder.
This project evolves a $\val{0.3}{\Msun}$ through its pre-main-sequence phase and the first $\val{3}{\Giga\yr}$ of its main-sequence life. A star with initial mass $M \lesssim \val{0.35}{\Msun}$ remains fully convective, so that the entire star lies along an adiabat and has a single value of entropy $s$ at a given instant. This star therefore makes a good test case for checking your work in the exercise~\ref{p.radius-entropy}.

You now have analytical expressions for how the radius scales with entropy, and for the ``gravithermal'' specific heat $c_{\star}$. As you evolve the low-mass star through its pre-main-sequence phase, its radius and entropy change. Make a plot that demonstrates the scaling of radius with entropy.  Make a second plot that shows the scaling of entropy with central temperature $T_{c}$ and from this plot obtain an estimate of $c_{\star}$.  Compare your findings against the results of exercise~\ref{p.radius-entropy}.

\newthought{NB.---It is unnecessary to modify} `|run_star_extras.f90|' for this project. Although \mesa\ computes the central entropy, it does not print it to the `|history.data|' file by default.  In the `|&star_job|' section of `|inlist_0.3M|' we therefore set
\VerbatimInput[firstline=22,lastline=22]{Lane-Emden/0.3M-entropy/inlist_0.3M}
and make the file `|entropy_vars.list|':
\VerbatimInput[firstline=37,lastline=43]{Lane-Emden/0.3M-entropy/entropy_vars.list}
This gives us a history of $s/(\NA\,\kB)$---and other central thermodynamical quantities---as the star evolves. Note that the list provided is just a start and is not necessarily complete. To see what else is available for output, look at `|$MESA_DIR/star/defaults/history_columns.list|'.

Finally, you will note that in the top-level inlist, there is the following reference:
\VerbatimInput[firstline=44,lastline=45]{Lane-Emden/0.3M-entropy/inlist}
You will need to create the file `|inlist_entropy|' to make these plots. I recommend using a custom version of the `|History_Track|' plots, a complete description of which you can find in `|$MESA_DIR/star/defaults/pgstar.defaults|'. Don't forget to set `|read_extra_pgstar_inlist2 = .true.|' when you are ready to generate these plots.
\end{mesaproject}
\UndefineShortVerb{\|}

